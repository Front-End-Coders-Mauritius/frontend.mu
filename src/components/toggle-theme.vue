<script setup lang="ts">
import { useDark, useToggle } from "@vueuse/core";

const isDark = useDark({
  selector: "body",
  attribute: "color-scheme",
});

const toggleDark = useToggle(isDark);
</script>

<template>
  <button @click="toggleDark()" class="toggle-button bg-verse-100">
    <div v-if="isDark">
      <svg
        width="724"
        height="724"
        viewBox="0 0 724 724"
        fill="#fff"
        xmlns="http://www.w3.org/2000/svg"
        class="w-6 h-6"
      >
        <path
          d="M723.373 525.027C667.957 555.839 604.18 573.469 536.267 573.469C323.32 573.469 150.693 400.829 150.693 187.896C150.693 119.975 168.308 56.2079 199.147 0.775879C80.7919 66.5932 0.679932 192.869 0.679932 337.896C0.679932 550.829 173.307 723.456 386.253 723.456C531.28 723.472 657.547 643.347 723.373 525.016V525.027Z"
        />
        <path
          d="M605.2 80.5986L636.689 144.427L707.137 154.661L656.173 204.344L668.194 274.51L605.199 241.385L542.189 274.51L554.225 204.344L503.252 154.661L573.7 144.427L605.2 80.5986Z"
        />
        <path
          d="M416.747 281.613L433.689 315.941L471.575 321.436L444.168 348.171L450.642 385.916L416.746 368.083L382.855 385.916L389.329 348.171L361.923 321.436L399.813 315.941L416.747 281.613Z"
        />
        <path
          d="M373.067 13.4014L394.9 57.6414L443.723 64.7351L408.4 99.1778L416.733 147.803L373.067 124.839L329.395 147.803L337.733 99.1778L302.41 64.7351L351.233 57.6414L373.067 13.4014Z"
        />
      </svg>
      <span class="sr-only">Moon icon for dark mode</span>
    </div>
    <div v-else>
      <svg
        width="681"
        height="681"
        viewBox="0 0 681 681"
        fill="#fff"
        xmlns="http://www.w3.org/2000/svg"
        class="w-6 h-6"
      >
        <path
          d="M431.493 1.35997C419.545 -1.8431 407.258 5.25063 404.061 17.1986L373.14 132.595C369.937 144.543 377.03 156.829 388.978 160.027C400.926 163.23 413.213 156.136 416.41 144.188L447.332 28.792C450.535 16.8441 443.441 4.5573 431.493 1.35997V1.35997ZM112.666 85.9906C105.609 84.6261 97.8798 86.6886 92.4118 92.1573C83.6618 100.907 83.8648 115.111 92.6149 123.855L177 208.308C185.75 217.058 199.891 217.079 208.64 208.329C217.39 199.579 217.411 185.438 208.661 176.689L124.276 92.2408C120.995 88.9596 116.901 86.8085 112.666 85.9908L112.666 85.9906ZM662.146 233.231C658.917 232.642 655.48 232.783 652.121 233.684L536.818 264.626C524.87 267.829 517.818 280.09 521.015 292.038C524.218 303.986 536.479 311.038 548.427 307.841L663.73 276.898C675.678 273.695 682.959 261.497 679.756 249.549C677.756 242.08 672.1 236.424 665.303 234.08C664.282 233.726 663.225 233.429 662.147 233.236L662.146 233.231ZM375.453 210.517C304.01 191.377 229.986 234.111 210.853 305.553C191.713 376.996 234.446 451.02 305.889 470.153C377.332 489.293 451.356 446.56 470.489 375.117C489.629 303.675 446.896 229.651 375.453 210.517V210.517ZM363.859 253.793C411.911 266.668 440.094 315.476 427.214 363.533C414.339 411.591 365.531 439.768 317.474 426.893C269.422 414.018 241.239 365.211 254.119 317.153C266.994 269.096 315.802 240.919 363.859 253.793V253.793ZM142.939 372.387C139.71 371.798 136.273 371.939 132.913 372.84L17.6107 403.782C5.66285 406.986 -1.61861 419.184 1.58405 431.137C4.78712 443.085 17.272 450.2 29.2201 446.997L144.523 416.054C156.471 412.851 163.523 400.59 160.325 388.642C158.325 381.174 152.893 375.58 146.096 373.236C145.075 372.887 144.018 372.585 142.94 372.392L142.939 372.387ZM492.726 466.116C485.669 464.751 478.163 466.876 472.699 472.345C463.949 481.09 463.929 495.236 472.679 503.985L557.064 588.438C565.814 597.188 580.179 597.272 588.928 588.522C597.678 579.777 597.475 565.569 588.725 556.825L504.339 472.371C501.058 469.09 496.965 466.939 492.73 466.121L492.726 466.116ZM292.353 520.647C280.405 517.444 268.118 524.537 264.921 536.485L233.999 651.881C230.796 663.829 237.89 676.116 249.838 679.313C261.786 682.516 274.073 675.423 277.27 663.475L308.191 548.079C311.394 536.131 304.301 523.844 292.353 520.647V520.647Z"
        />
      </svg>
      <span class="sr-only">Sun icon for light mode</span>
    </div>
  </button>
</template>
